{"ast":null,"code":"import _classCallCheck from \"/home/itsme/mydata/SEN/estate_locator-SEN-CLIENT/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/itsme/mydata/SEN/estate_locator-SEN-CLIENT/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/itsme/mydata/SEN/estate_locator-SEN-CLIENT/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/itsme/mydata/SEN/estate_locator-SEN-CLIENT/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/itsme/mydata/SEN/estate_locator-SEN-CLIENT/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/itsme/mydata/SEN/estate_locator-SEN-CLIENT/src/Forgotpassword/Forgotpassword.js\";\nimport React, { Component } from \"react\";\nimport cookie from \"react-cookies\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport \"./Forgotpassword.css\";\nexport var Forgotpassword =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Forgotpassword, _React$Component);\n\n  function Forgotpassword(props) {\n    var _this;\n\n    _classCallCheck(this, Forgotpassword);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Forgotpassword).call(this, props));\n    _this.state = {\n      email: \"\",\n      password: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Forgotpassword, [{\n    key: \"onPasswordChange\",\n    value: function onPasswordChange(param) {\n      this.setState({\n        email: param.target.value\n      });\n      console.log(\"email \" + this.state.email);\n    }\n  }, {\n    key: \"onEmailChange\",\n    value: function onEmailChange(param) {\n      this.setState({\n        password: param.target.value\n      });\n      console.log(\"password \" + this.state.password);\n    }\n  }, {\n    key: \"onForgot\",\n    value: function onForgot() {\n      $.ajax({\n        url: appurl + '/account/logIn',\n        method: 'POST',\n        data: {\n          email: this.state.username,\n          password: this.state.password\n        },\n        success: function (result) {\n          if (result.user.verified) {\n            console.log(\"login success\");\n            cookie.save(result.cname1, result.cvalue1, {\n              path: \"/\",\n              expires: new Date(result.cookieexpire)\n            });\n            cookie.save('uid', result.user._id, {\n              path: \"/\",\n              expires: new Date(result.cookieexpire)\n            });\n            console.log(result.user);\n            if (result.user.addedExtraInfo) this.setState({\n              redirect: 1\n            });\n            if (!result.user.addedExtraInfo) this.setState({\n              redirect: 2\n            });\n          } else {\n            this.showValidationErr(\"password\", \"User not verified\");\n            console.log(\"login failed\");\n          }\n        }.bind(this),\n        error: function (error) {\n          this.showValidationErr(\"password\", \"Login Failed\");\n        }.bind(this)\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        class: \"forgotpassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Enter New Password\"), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        controlId: \"formBasicPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Form.Control, {\n        type: \"email\",\n        placeholder: \"Email\",\n        required: \"true\",\n        value: \"\",\n        onchange: this.onEmailChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        controlId: \"formBasicPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Form.Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Confirm Password\"), React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Confirm Password\",\n        required: \"true\",\n        value: \"\",\n        onchange: this.onPasswordChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })), React.createElement(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        onClick: this.onForgot.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Submit\")));\n    }\n  }]);\n\n  return Forgotpassword;\n}(React.Component);","map":{"version":3,"sources":["/home/itsme/mydata/SEN/estate_locator-SEN-CLIENT/src/Forgotpassword/Forgotpassword.js"],"names":["React","Component","cookie","Form","Button","Forgotpassword","props","state","email","password","param","setState","target","value","console","log","$","ajax","url","appurl","method","data","username","success","result","user","verified","save","cname1","cvalue1","path","expires","Date","cookieexpire","_id","addedExtraInfo","redirect","showValidationErr","bind","error","onEmailChange","onPasswordChange","onForgot"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport cookie from \"react-cookies\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport \"./Forgotpassword.css\";\r\n\r\nexport class Forgotpassword extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n  }\r\n\r\n  onPasswordChange(param) {\r\n    this.setState({ email: param.target.value });\r\n    console.log(\"email \" + this.state.email);\r\n  }\r\n  onEmailChange(param) {\r\n    this.setState({ password: param.target.value });\r\n    console.log(\"password \" + this.state.password);\r\n  }\r\n\r\n  onForgot(){\r\n    $.ajax({\r\n        url: appurl + '/account/logIn',\r\n        method: 'POST',\r\n        data:{\r\n          email: this.state.username,\r\n          password: this.state.password\r\n        },\r\n        success: function(result){\r\n          if(result.user.verified){\r\n            console.log(\"login success\");\r\n            cookie.save(result.cname1, result.cvalue1, {path:\"/\", expires:new Date(result.cookieexpire) });\r\n            cookie.save('uid', result.user._id, {path:\"/\", expires:new Date(result.cookieexpire) });\r\n            console.log(result.user);\r\n            if(result.user.addedExtraInfo)\r\n              this.setState({ redirect: 1 });\r\n            if(!result.user.addedExtraInfo)\r\n              this.setState({ redirect: 2 });\r\n          }\r\n          else{\r\n            this.showValidationErr(\"password\", \"User not verified\");\r\n            console.log(\"login failed\");\r\n          }\r\n        }.bind(this),\r\n        error: function(error) {\r\n          this.showValidationErr(\"password\", \"Login Failed\");\r\n        }.bind(this)\r\n      });\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"forgotpassword\">\r\n        <h4>Enter New Password</h4>\r\n        <Form>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              required=\"true\"\r\n              value=\"\"\r\n              onchange={this.onEmailChange.bind(this)}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Confirm Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Confirm Password\"\r\n              required=\"true\"\r\n              value=\"\"\r\n              onchange={this.onPasswordChange.bind(this)}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Button variant=\"primary\" type=\"submit\" onClick={this.onForgot.bind(this)} >\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}